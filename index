<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My Website</title>
    <style>
        body {
            background-image: url("https://oir.mobi/uploads/posts/2021-03/thumbs/1616542002_20-p-chernii-fon-dlya-prezentatsii-25.jpg");
            background-size: cover;
            text-align: center;
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            background-color: #3498db;
            color: white;
            border: none;
            cursor: pointer;
        }

        .player-container {
            max-width: 100%;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .player-container iframe {
            width: 100%;
            height: 300px;
        }
    </style>
</head>
<body>
    <h1>Home</h1>
    <div class="button-container">
        <a href="#" class="button">Button 1</a>
        <a href="#" class="button">Button 2</a>
        <a href="#" class="button">Button 3</a>
        <a href="#" class="button">Button 4</a>
        <a href="#" class="button">Button 5</a>
    </div>
    
    <h1>Video</h1>
    <div class="player-container">
        <!-- Вставьте код плеера для воспроизведения m3u ссылки здесь -->
    </div>
    
    <h1>Radio</h1>
    <div class="player-container">
        <html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Радио Плеер</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #7a7a7a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            margin: 0;
        }
        .player-container {
            text-align: center;
            width: 500px;
        }
        .search-container {
            margin-bottom: 20px;
        }
        .station-list {
            width: 100%;
            margin-bottom: 40px;
        }
        audio {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="player-container">
        <h1>Androzon FM</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Suchen..." onkeyup="searchStations()">
        </div>
        <select id="stationSelect" class="station-list" onchange="changeStation()">
            <option value="" selected disabled>Auswahl</option>
            <!-- Радиостанции будут добавлены динамически -->
        </select>
        <audio id="audioPlayer" controls>
            Ваш браузер не поддерживает элемент <code>audio</code>.
        </audio>
    </div>
    <script>
        const stationSelect = document.getElementById('stationSelect');
        const audioPlayer = document.getElementById('audioPlayer');

        // Функция для изменения радиостанции
        function changeStation() {
            const selectedUrl = stationSelect.value;
            audioPlayer.src = selectedUrl;
            audioPlayer.play();
        }

        // Функция для поиска радиостанций
        function searchStations() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toUpperCase();
            const options = stationSelect.getElementsByTagName('option');
            for (let i = 0; i < options.length; i++) {
                const txtValue = options[i].textContent || options[i].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    options[i].style.display = "";
                } else {
                    options[i].style.display = "none";
                }
            }
        }

        // Функция для получения списка станций из M3U файла
        async function fetchStations(url) {
            try {
                const response = await fetch(url);
                const text = await response.text();
                const lines = text.split('\n');
                const stations = [];
                let currentName = '';

                lines.forEach(line => {
                    if (line.startsWith('#EXTINF')) {
                        currentName = line.split(',')[1].trim();
                    } else if (line && !line.startsWith('#')) {
                        stations.push({ name: currentName, url: line.trim() });
                        currentName = ''; // Сброс имени после добавления в список
                    }
                });

                return stations;
            } catch (error) {
                console.error('Ошибка при загрузке станций:', error);
                return [];
            }
        }

         // Инициализация списка станций при загрузке страницы
        document.addEventListener('DOMContentLoaded', async () => {
            const stations = await fetchStations('https://m3u.ch/pl/9649fad4518f94a4a7858643856defb8_9c3b7d0a9dfcd07f0ced4d0355a94b2e.m3u');
            
            if (stations.length > 0) {
                stations.forEach(station => {
                    const option = document.createElement('option');
                    option.value = station.url;
                    option.textContent = station.name;
                    stationSelect.appendChild(option);
                });
            } else {
                const option = document.createElement('option');
                option.value = "";
                option.textContent = "Не удалось загрузить станции";
                stationSelect.appendChild(option);
            }
        });
</script>
</body>
</html>
    </div>
</body>
</html>
